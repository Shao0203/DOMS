function addLoadEvent(a){var b=window.onload;window.onload="function"!=typeof window.onload?a:function(){b();a()}}function insertAfter(a,b){var c=b.parentNode;b==c.lastChild?c.appendChild(a):c.insertBefore(a,b.nextSibling)}function addClass(a,b){a.className?(newClassName=a.className,newClassName+=" ",newClassName+=b,a.className=newClassName):a.className=b}
function highlightPage(){if(!document.getElementById||!document.getElementsByTagName)return!1;var a=document.getElementsByTagName("header");if(0==a.length)return!1;a=a[0].getElementsByTagName("nav");if(0==a.length)return!1;for(var a=a[0].getElementsByTagName("a"),b=window.location.href,c=0;c<a.length;c++){var d=a[c].getAttribute("href");-1!=b.indexOf(d)&&(a[c].className="here",d=a[c].lastChild.nodeValue.toLowerCase(),document.body.setAttribute("id",d))}}
function moveElement(a,b,c,d){if(!document.getElementById(a))return!1;var e=document.getElementById(a);e.movement&&clearTimeout(e.movement);e.style.left||(e.style.left="0px");e.style.top||(e.style.top="0px");var f=parseInt(e.style.left),g=parseInt(e.style.top);if(f==b&&g==c)return!0;if(f<b)var h=Math.ceil((b-f)/10),f=f+h;f>b&&(h=Math.ceil((f-b)/10),f-=h);g<c&&(h=Math.ceil((c-g)/10),g+=h);g>c&&(h=Math.ceil((g-c)/10),g-=h);e.style.left=f+"px";e.style.top=g+"px";e.movement=setTimeout("moveElement('"+
a+"',"+b+","+c+","+d+")",d)}
function prepareSlideshow(){if(!document.getElementById("intro"))return!1;var a=document.getElementById("intro"),b=document.createElement("div");b.setAttribute("id","slideshow");var c=document.createElement("img");c.setAttribute("src","images/slideshow.gif");c.setAttribute("alt","a glimpse of what awaits you");c.setAttribute("id","preview");b.appendChild(c);insertAfter(b,a);a=document.createElement("img");a.setAttribute("src","images/frame.gif");a.setAttribute("alt","");a.setAttribute("id","frame");
b.appendChild(a);for(var b=document.getElementsByTagName("a"),d,a=0;a<b.length;a++)b[a].onmouseover=function(){d=this.getAttribute("href");-1!=d.indexOf("index.html")&&moveElement("preview",0,0,5);-1!=d.indexOf("about.html")&&moveElement("preview",-150,0,5);-1!=d.indexOf("photos.html")&&moveElement("preview",-300,0,5);-1!=d.indexOf("live.html")&&moveElement("preview",-450,0,5);-1!=d.indexOf("contact.html")&&moveElement("preview",-600,0,5)}}
function showSection(a){for(var b=document.getElementsByTagName("section"),c=0;c<b.length;c++)b[c].getAttribute("id")!=a?b[c].style.display="none":b[c].style.display="block"}
function prepareInternalnav(){var a=document.getElementsByTagName("article");if(0==a.length)return!1;a=a[0].getElementsByTagName("nav");if(0==a.length)return!1;for(var a=a[0].getElementsByTagName("a"),b=0;b<a.length;b++){var c=a[b].getAttribute("href").split("#")[1];document.getElementById(c)&&(document.getElementById(c).style.display="none",a[b].destination=c,a[b].onclick=function(){showSection(this.destination);return!1})}}
function preparePlaceholder(){if(!document.getElementById("imagegallery"))return!1;var a=document.createElement("img");a.setAttribute("id","placeholder");a.setAttribute("src","images/placeholder.gif");a.setAttribute("alt","my image gallery");var b=document.createElement("p");b.setAttribute("id","description");var c=document.createTextNode("Choose an image");b.appendChild(c);c=document.getElementById("imagegallery");insertAfter(b,c);insertAfter(a,b)}
function showPic(a){if(!document.getElementById("placeholder"))return!1;var b=a.getAttribute("href");document.getElementById("placeholder").setAttribute("src",b);if(!document.getElementById("description"))return!1;a=a.title?a.title:"";b=document.getElementById("description");3==b.lastChild.nodeType&&(b.lastChild.nodeValue=a);return!1}
function gallery(){if(!document.getElementById("imagegallery"))return!1;for(var a=document.getElementById("imagegallery").getElementsByTagName("a"),b=0;b<a.length;b++)a[b].onmouseover=function(){return showPic(this)}}function stripeTables(){if(!document.getElementsByTagName("table"))return!1;for(var a=document.getElementsByTagName("table"),b=0;b<a.length;b++)for(var c=!1,d=a[b].getElementsByTagName("tr"),e=0;e<d.length;e++)1==c?(addClass(d[e],"odd"),c=!1):c=!0}
function highlightRows(){if(!document.getElementsByTagName("table"))return!1;for(var a=document.getElementsByTagName("table"),b=0;b<a.length;b++)for(var c=a[b].getElementsByTagName("tr"),d=0;d<c.length;d++)c[d].oldClassName=c[d].className,c[d].onmouseover=function(){addClass(this,"highlight")},c[d].onmouseout=function(){this.className=this.oldClassName}}
function displayAbbr(){var a=document.getElementsByTagName("abbr");if(0==a.length)return!1;for(var b=[],c=0;c<a.length;c++){var d=a[c];if(!(1>d.childNodes.length)){var e=d.getAttribute("title"),f=d.lastChild.nodeValue;b[f]=e}}a=document.createElement("dl");for(f in b)e=b[f],c=document.createElement("dt"),d=document.createTextNode(f),c.appendChild(d),d=document.createElement("dd"),e=document.createTextNode(e),d.appendChild(e),a.appendChild(c),a.appendChild(d);if(0==a.childNodes.length)return!1;b=document.createElement("h3");
f=document.createTextNode("Abbreviations");b.appendChild(f);f=document.getElementsByTagName("article");if(0==f.length)return!1;f[0].appendChild(b);f[0].appendChild(a)}function focusLabels(){if(!document.getElementsByTagName("label"))return!1;for(var a=document.getElementsByTagName("label"),b=0;b<a.length;b++)a[b].getAttribute("for")&&(a[b].onclick=function(){var a=this.getAttribute("for");if(!document.getElementById(a))return!1;document.getElementById(a).focus()})}
function checkFields(){document.forms[0].onsubmit=function(){for(var a=0;a<this.elements.length;a++){var b=this.elements[a];if("required"==b.required)return alert("Please fill in the "+b.name+" field."),!1;if("email"==b.type&&-1==b.value.indexOf("@"))return alert("The "+b.name+" field must be a valid email address."),!1}return!0}}
function displayAjaxLoading(a){for(;a.hasChildNodes();)a.removeChild(a.lastChild);var b=document.createElement("img");b.setAttribute("src","images/loading.gif");b.setAttribute("alt","Loading...");a.appendChild(b)}
function submitFormWithAjax(a,b){var c=new XMLHttpRequest;if(!c)return!1;displayAjaxLoading(b);for(var d=[],e,f=0;f<a.elements.length;f++)e=a.elements[f],d[f]=e.name+"="+encodeURIComponent(e.value);d=d.join("&");c.open("POST",a.getAttribute("action"),!0);c.setRequestHeader("Content-type","application/x-www-form-urlencoded");c.onreadystatechange=function(){if(4==c.status)if(200==c.status||0==c.status){var a=c.responseText.match(/<article>([\s\S]+)<\/article>/)[1];b.innerHTML=0<a.length?a[1]:"<p>Sorry, there was an error.</p>"}else b.innerHTML=
"<p>"+c.statusText+"</p>"};c.send(d);return!0}function subForms(){for(var a=0;a<document.forms.length;a++)document.forms[a].onsubmit=function(){var a=document.getElementsByTagName("article")[0];return submitFormWithAjax(this,a)?!1:!0}}addLoadEvent(highlightPage);addLoadEvent(prepareSlideshow);addLoadEvent(prepareInternalnav);addLoadEvent(preparePlaceholder);addLoadEvent(gallery);addLoadEvent(stripeTables);addLoadEvent(highlightRows);addLoadEvent(displayAbbr);addLoadEvent(focusLabels);addLoadEvent(checkFields);
addLoadEvent(subForms);